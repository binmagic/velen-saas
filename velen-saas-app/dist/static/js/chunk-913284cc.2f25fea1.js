(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-913284cc"],{"038b":function(t,e,a){},"1c31":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return s}));var n=a("b775");function i(t){return Object(n["a"])({url:"/admin/feedback",method:"get",params:t})}function r(){return Object(n["a"])({url:"/admin/feedback/total",method:"get"})}function s(){return Object(n["a"])({url:"/admin/feedback/month",method:"get"})}},3157:function(t,e,a){"use strict";var n=a("fc56"),i=a.n(n);i.a},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{attrs:{reportCount:t.reportCount},on:{handleSetLineChartData:t.handleSetLineChartData}}),t._v(" "),a("line-chart",{attrs:{"chart-data":t.lineChartData}}),t._v(" "),a("el-row",{attrs:{gutter:8}},[a("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12}}},[a("pie-chart",{attrs:{"chart-data":t.reportDistribute}})],1)],1)],1)},i=[],r=(a("96cf"),a("3b8d")),s=a("1c31"),o=a("d28d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},d=[],u=a("313e"),h=a.n(u),l=a("ed08"),p={data:function(){return{$_sidebarElm:null}},mounted:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_resizeHandler:function(){var t=this;return Object(l["b"])((function(){t.chart&&t.chart.resize()}),100)()},$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("817d");var f={mixins:[p],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=h.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.xAxisData,a=t.datas,n=[];for(var i in a){var r=a[i];n[i]=Object.assign({},{itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",animationDuration:2800,animationEasing:"cubicInOut"},r)}this.chart.setOption({xAxis:{data:e,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:e},series:n})}}},b=f,m=a("2877"),v=Object(m["a"])(b,c,d,!1,null,null,null),g=v.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("reports")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("\n          总反馈数\n        ")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.reportCount,duration:2600}})],1)])])],1)},D=[],_=(a("c5f6"),a("ec1b")),$=a.n(_),y={components:{CountTo:$.a},props:{reportCount:{type:Number,default:0}},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)}}},C=y,E=(a("3157"),Object(m["a"])(C,x,D,!1,null,"4ed85444",null)),O=E.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},R=[];a("817d");var z={mixins:[p],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=h.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.xAxisData,a=t.datas,n=[];for(var i in console.log("xxx"),a){var r=a[i];n[i]=Object.assign({},{name:"",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[],animationEasing:"cubicInOut",animationDuration:2600},r)}this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:e},series:n})}}},S=z,j=Object(m["a"])(S,w,R,!1,null,null,null),k=j.exports,L={reports:{xAxisData:["2019-7-12","2019-7-13"],datas:[]}},A={distribute:{xAxisData:["异常发热","耗电过高"],datas:[]}},T={name:"Dashboard",components:{LineChart:g,PanelGroup:O,PieChart:k},data:function(){return{lineChartData:L.reports,reportCount:0,reportDistribute:A.distribute}},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.fetchReportTotalData(),this.fetchMonthReportTotalData(),this.fetchReportDistribute();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{handleSetLineChartData:function(t){this.lineChartData=L[t]},fetchReportTotalData:function(){var t=this;Object(s["b"])().then((function(e){t.reportCount=e.data}))},fetchMonthReportTotalData:function(){Object(s["a"])().then((function(t){L.reports.xAxisData=t.data.legend,L.reports.datas[0]=Object.assign({},{name:"反馈数",data:t.data.data})}))},fetchReportDistribute:function(){var t=this,e=[];Object(o["b"])().then((function(a){var n=a.data,i=[];for(var r in n){var s={};s["name"]=r,e.push(r),s["value"]=n[r],i.push(s)}t.reportDistribute.xAxisData=e;var o={data:i,name:"反馈类型"};t.reportDistribute.datas=[],t.reportDistribute.datas.push(o)}))}}},H=T,N=(a("fcf5"),Object(m["a"])(H,n,i,!1,null,"798308c7",null));e["default"]=N.exports},d28d:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}));var n=a("b775");function i(t){return Object(n["a"])({url:"/admin/tag/".concat(t),method:"get"})}function r(){return Object(n["a"])({url:"/admin/tag/distribute",method:"get"})}},fc56:function(t,e,a){},fcf5:function(t,e,a){"use strict";var n=a("038b"),i=a.n(n);i.a}}]);