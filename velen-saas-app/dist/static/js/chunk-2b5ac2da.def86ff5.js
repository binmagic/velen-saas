(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b5ac2da"],{"1c31":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a("b775");function l(e){return Object(n["a"])({url:"/admin/feedback",method:"get",params:e})}function i(){return Object(n["a"])({url:"/admin/feedback/total",method:"get"})}function r(){return Object(n["a"])({url:"/admin/feedback/month",method:"get"})}},2535:function(e,t,a){"use strict";var n=a("eb4f"),l=a.n(n);l.a},"26c5":function(e,t,a){"use strict";var n=a("ce85"),l=a.n(n);l.a},"71ff":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{staticStyle:{"margin-top":"12px"},attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"内容"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.listQuery.content,callback:function(t){e.$set(e.listQuery,"content",t)},expression:"listQuery.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.listQuery.os,callback:function(t){e.$set(e.listQuery,"os",t)},expression:"listQuery.os"}},e._l(e.tags.os,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},on:{change:function(t){return e.splitData("timeRange","Time")}},model:{value:e.listQuery.timeRange,callback:function(t){e.$set(e.listQuery,"timeRange",t)},expression:"listQuery.timeRange"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"安装包版本"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.listQuery.packageVersion,callback:function(t){e.$set(e.listQuery,"packageVersion",t)},expression:"listQuery.packageVersion"}},e._l(e.tags.packageVersion,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"热更版本"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.listQuery.hotUpdateVersion,callback:function(t){e.$set(e.listQuery,"hotUpdateVersion",t)},expression:"listQuery.hotUpdateVersion"}},e._l(e.tags.hotUpdateVersion,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"语言"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.listQuery.language,callback:function(t){e.$set(e.listQuery,"language",t)},expression:"listQuery.language"}},e._l(e.tags.language,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.listQuery.channel,callback:function(t){e.$set(e.listQuery,"channel",t)},expression:"listQuery.channel"}},e._l(e.tags.channel,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.listQuery.tag,callback:function(t){e.$set(e.listQuery,"tag",t)},expression:"listQuery.tag"}},e._l(e.tags.tag,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.fetchData}},[e._v("\n      搜索\n    ")])],1)],1),e._v(" "),e._l(e.list,(function(t){return a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"800px"}},[a("span",{staticStyle:{color:"gray"}},[e._v(e._s(e._f("parseTime")(t.createTime,"{y}年{m}月{d}日 {h}:{i}:{s}")))]),e._v(" "),a("el-form",{staticStyle:{color:"gray","font-size":"2"},attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"联系方式"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("img",{staticClass:"avatar",attrs:{src:t.portrait}})]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("QQ："+e._s(t.qq))])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[e._v("昵称（ID）："+e._s(t.userName)+" ( "+e._s(t.userID)+" ) ")]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("微信号："+e._s(t.wechat))])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[e._v("手机号："+e._s(t.phone))]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("邮箱："+e._s(t.mail))])],1)],1),e._v(" "),a("el-form-item",[a("div",{attrs:{slot:"label"},slot:"label"},[e._v("问题详情"),a("i",{staticClass:"el-icon-view el-icon--right",on:{click:function(a){return e.downloadAttachment(t)}}})]),e._v(" "),a("span",[e._v(e._s(t.content))])]),e._v(" "),a("el-form-item",{attrs:{label:"标签"}},e._l(e.splitTag(t.tags),(function(t){return a("el-tag",{staticStyle:{"margin-right":"10px"},attrs:{type:"warning"}},[e._v(e._s(t))])})),1),e._v(" "),a("el-form-item",{attrs:{label:"设备信息"}},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("设备名称："+e._s(t.deviceName))]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("设备ID："+e._s(t.deviceID))])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("网络："+e._s(t.network))]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("运营商："+e._s(t.isp))])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("分辨率："+e._s(t.resolution))]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("操作系统/版本："+e._s(t.os)+" / "+e._s(t.osVersion))])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"应用信息"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[e._v("渠道："+e._s(t.channel))]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("启动次数："+e._s(t.launchCount))])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[e._v("安装包版本 / 热更版本："+e._s(t.packageVersion)+" / "+e._s(t.hotUpdateVersion))])],1)],1)],1)],1)})),e._v(" "),a("pagination",{attrs:{hidden:e.total<1,total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.fetchData}})],2)},l=[],i=(a("28a5"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)}),r=[];a("c5f6");Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function c(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function u(e,t,a){var n=c(),l=e-n,i=20,r=0;t="undefined"===typeof t?500:t;var u=function e(){r+=i;var c=Math.easeInOutQuad(r,n,l,t);o(c),r<t?s(e):a&&"function"===typeof a&&a()};u()}var d={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&u(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&u(0,800)}}},p=d,m=(a("26c5"),a("2877")),f=Object(m["a"])(p,i,r,!1,null,"6b68b94e",null),g=f.exports,h=(a("8d41"),"@@wavesContext");function v(e,t){function a(a){var n=Object.assign({},t.value),l=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),i=l.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var r=i.getBoundingClientRect(),s=i.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":(s=document.createElement("span"),s.className="waves-ripple",s.style.height=s.style.width=Math.max(r.width,r.height)+"px",i.appendChild(s)),l.type){case"center":s.style.top=r.height/2-s.offsetHeight/2+"px",s.style.left=r.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(a.pageY-r.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(a.pageX-r.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=l.color,s.className="waves-ripple z-active",!1}}return e[h]?e[h].removeHandle=a:e[h]={removeHandle:a},a}var y={bind:function(e,t){e.addEventListener("click",v(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[h].removeHandle,!1),e.addEventListener("click",v(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[h].removeHandle,!1),e[h]=null,delete e[h]}},b=function(e){e.directive("waves",y)};window.Vue&&(window.waves=y,Vue.use(b)),y.install=b;var _=y,w=a("1c31"),Q=a("d28d"),k=a("ed08"),S={components:{Pagination:g},directives:{waves:_},filters:{},data:function(){return{listQuery:{page:1,limit:5,os:"",packageVersion:"",hotUpdateVersion:"",language:"",timeRange:"",startTime:"",endTime:"",channel:"",tag:""},total:0,list:null,listLoading:!0,category:[],categoryKeyName:{},dialogFormVisible:!1,dialogStatus:"",tags:{}}},created:function(){this.fetchTag("os"),this.fetchTag("packageVersion"),this.fetchTag("hotUpdateVersion"),this.fetchTag("language"),this.fetchTag("tag"),this.fetchTag("channel"),this.fetchData()},methods:{fetchTag:function(e){var t=this;Object(Q["a"])(e).then((function(a){t.tags[e]=a.data}))},fetchData:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading"}),a={};for(var n in this.listQuery)this.listQuery[n]&&(this.listQuery[n]instanceof Array?a[n]=this.listQuery[n].join(","):a[n]=this.listQuery[n]);Object(w["c"])(a).then((function(a){e.list=a.data.items,e.total=a.data.total,setTimeout((function(){t.close()}),500)}))},downloadAttachment:function(e){var t=document.createElement("iframe");t.src="admin/attachment/".concat(e.id),t.style.display="none",document.body.appendChild(t)},splitTag:function(e){return e?e.split(","):[]},splitData:function(e,t){this.listQuery[e]?(this.listQuery["start"+t]=Object(k["a"])(this.listQuery[e][0],"YYYY-mm-dd HH:MM:SS"),this.listQuery["end"+t]=Object(k["a"])(this.listQuery[e][1],"YYYY-mm-dd HH:MM:SS")):(this.listQuery["start"+t]="",this.listQuery["end"+t]="")}}},x=S,T=(a("2535"),Object(m["a"])(x,n,l,!1,null,"4ad270fa",null));t["default"]=T.exports},"8d41":function(e,t,a){},ce85:function(e,t,a){},d28d:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i}));var n=a("b775");function l(e){return Object(n["a"])({url:"/admin/tag/".concat(e),method:"get"})}function i(){return Object(n["a"])({url:"/admin/tag/distribute",method:"get"})}},eb4f:function(e,t,a){}}]);