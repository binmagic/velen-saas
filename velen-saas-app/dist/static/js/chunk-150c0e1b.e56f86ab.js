(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-150c0e1b"],{"2b74":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{ref:"tableMain",staticStyle:{width:"100%"},attrs:{data:e.insideTableData}},e._l(e.insideColumns,(function(e){return a("el-table-column",{attrs:{label:e.label,align:e.align,width:e.width}})})),1)],1)},o=[],r={name:"Table",props:{value:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},editable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},searchPlace:{type:String,default:"top"}},data:function(){return{insideColumns:[],insideTableData:[],searchKey:"",searchValue:"",default_column:{align:"center",width:"auto"}}},watch:{columns:function(e){this.handleColumns(e),this.setDefaultSearchKey()},value:function(){this.handleTableData()}},mounted:function(){this.handleColumns(this.columns),this.setDefaultSearchKey(),this.handleTableData()},methods:{supportEdit:function(e,t){},supportHandle:function(e){},handleColumns:function(e){var t=this;this.insideColumns=e.map((function(e,a){var n=Object.assign({},t.default_column,e);return n.editable&&(n=t.supportEdit(n,a)),"handle"===n.key&&(n=t.supportHandle(n)),n}))},setDefaultSearchKey:function(e){},handleTableData:function(){this.insideTableData=this.value.map((function(e,t){var a=e;return a.initRowIndex=t,a}))}}},s=r,l=a("2877"),i=Object(l["a"])(s,n,o,!1,null,null,null),c=i.exports;t["a"]=c},9406:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("custom-header",{attrs:{"show-name":e.$route.meta.title}},[a("div",{attrs:{slot:"tools"},slot:"tools"},[e.componentFlag.enableDatePick?a("div",{staticStyle:{"margin-right":"40px","align-self":"center",display:"flex"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.componentOption.datePickerOptions},model:{value:e.query.dateRange,callback:function(t){e.$set(e.query,"dateRange",t)},expression:"query.dateRange"}}),e._v(" "),a("i",{staticClass:"el-icon-close",staticStyle:{"align-self":"center","margin-left":"20px"},on:{click:function(t){e.componentFlag.enableDatePick=!1}}})],1):a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{icon:"el-icon-date"},on:{click:function(t){e.componentFlag.enableDatePick=!0}}}),e._v(" "),a("el-button-group",[a("el-button",{attrs:{icon:"el-icon-refresh-left"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-share"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-more"}})],1),e._v(" "),a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleClickPlus,"visible-change":e.handleClickPlusVisible}},[a("span",[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{icon:"el-icon-plus",type:"success"}})],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-arrow-right",command:"createFromBookmarks"}},[e._v("从书签添加")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"createComponent"}},[e._v("新建组件")]),e._v(" "),a("el-dropdown-item",[e._v("新建描述")])],1)],1)],1)]),e._v(" "),a("el-popover",{ref:"createBookmarksPopover",staticClass:"createBookmarks",attrs:{placement:"bottom-start",width:"200",trigger:"manual"},model:{value:e.componentFlag.enableCreateFromBookmarks,callback:function(t){e.$set(e.componentFlag,"enableCreateFromBookmarks",t)},expression:"componentFlag.enableCreateFromBookmarks"}},[a("el-menu",{on:{select:e.handleSelectBookmarks}},e._l(e.pre_data.bookmarks,(function(t,n){return a("el-menu-item-group",[a("template",{slot:"title"},[e._v(e._s(n))]),e._v(" "),e._l(t,(function(t){return a("el-menu-item",{attrs:{index:t.id}},[e._v(e._s(t.name))])}))],2)})),1)],1),e._v(" "),a("div",{staticClass:"component"},e._l(e.pre_data.dashboard.items,(function(e){return a(e.type,{tag:"component"})})),1),e._v(" "),a("el-dialog",{attrs:{title:"新建组件",visible:e.componentFlag.enableCreateComponent,width:"30%",center:""},on:{"update:visible":function(t){return e.$set(e.componentFlag,"enableCreateComponent",t)}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"hover"},nativeOn:{click:function(t){return e.jump("menu-analyze-meta-event")}}},[e._v("\n          元数据分析\n        ")])],1)],1)],1),e._v(" "),a("router-view")],1)},o=[],r=(a("db97"),a("db72")),s=(a("96cf"),a("3b8d")),l=a("bc5d"),i=a("2f62"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("card",[a("custom-table",{attrs:{columns:e.columns,value:e.data}})],1)},u=[],d=a("2b74"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card small_card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[a("template",{slot:"title"})],2),e._v(" "),a("span",[a("template",{slot:"tools"})],2),e._v(" "),a("el-dropdown",{staticStyle:{float:"right"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-more-outline el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("小")]),e._v(" "),a("el-dropdown-item",[e._v("中")]),e._v(" "),a("el-dropdown-item",[e._v("大")]),e._v(" "),a("el-dropdown-item",{attrs:{divided:""}},[e._v("设置")]),e._v(" "),a("el-dropdown-item",[e._v("删除")])],1)],1)],1),e._v(" "),a("template",{slot:"content"})],2)},p=[],h={name:"Card"},f=h,b=(a("c7ae"),a("2877")),v=Object(b["a"])(f,m,p,!1,null,null,null),k=v.exports,_=k,g={components:{Card:_,CustomTable:d["a"]},name:"meta-event-analytics",data:function(){return{data:[],columns:[]}},methods:{handleColumns:function(){}}},C=g,w=Object(b["a"])(C,c,u,!1,null,null,null),y=w.exports,F=y,B=a("5fd4"),D={name:"Dashboard",components:{CustomHeader:l["a"],MetaEventAnalytics:F},data:function(){return{query:{id:"",dateRange:[]},componentOption:{datePickerOptions:{}},componentFlag:{enableDatePick:!1,enableCreateComponent:!1,enableCreateFromBookmarks:!1},pre_data:{bookmarks:{},bookmarksIdMapping:{},dashboards:[],dashboard:{}},save_data:{}}},watch:{$route:function(){this.query.id=this.$route.query.id,this.fetchBookmarks(),this.fetchDashboardInfo()}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchDashboards();case 2:this.query.id=this.$route.query.id,!this.query.id&&this.pre_data.dashboards.length>0&&(this.query.id=this.pre_data.dashboards[0]);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),created:function(){this.fetchBookmarks(),this.fetchDashboardInfo()},methods:Object(r["a"])({},Object(i["b"])(["getGroupBookmarks"]),{fetchDashboardInfo:function(){var e=this;Object(B["c"])(this.query.id).then((function(t){e.pre_data.dashboard=t}))},fetchDashboards:function(){return new Promise((function(e,t){e()}))},fetchBookmarks:function(){var e=this;this.getGroupBookmarks().then((function(t){for(var a in e.pre_data.bookmarks=t,e.pre_data.bookmarks)for(var n in e.pre_data.bookmarks[a]){var o=e.pre_data.bookmarks[a][n];e.pre_data.bookmarksIdMapping[o.id]=o}}))},handleClickPlus:function(e){Object.is(e,"createComponent")?this.componentFlag.enableCreateComponent=!0:Object.is(e,"createFromBookmarks")&&(this.componentFlag.enableCreateFromBookmarks=!0,console.log())},handleClickPlusVisible:function(e){e&&(this.componentFlag.enableCreateFromBookmarks=!1)},jump:function(e){this.$router.push({name:e,query:this.$route.query})},handleSelectBookmarks:function(e){this.pre_data.bookmarksIdMapping[e];this.componentFlag.enableCreateFromBookmarks=!1}})},x=D,O=(a("f8a7"),Object(b["a"])(x,n,o,!1,null,null,null));t["default"]=O.exports},acf4:function(e,t,a){},bc5d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-header"},[a("div",{staticClass:"custom-header-title"},[a("span",[a("h3",[e._v(e._s(e.showName))])]),e._v(" "),e._t("title")],2),e._v(" "),a("div",{staticClass:"custom-tools"},[e._t("tools")],2)])},o=[],r=(a("e67d"),{name:"CustomHeader",props:{showName:{type:String,default:""}}}),s=r,l=a("2877"),i=Object(l["a"])(s,n,o,!1,null,null,null),c=i.exports;t["a"]=c},c7ae:function(e,t,a){"use strict";var n=a("f919"),o=a.n(n);o.a},e67d:function(e,t,a){},f8a7:function(e,t,a){"use strict";var n=a("acf4"),o=a.n(n);o.a},f919:function(e,t,a){}}]);